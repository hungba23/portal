<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.6">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Cardano Developer Portal Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Cardano Developer Portal Blog Atom Feed">
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=GTM-5NM3NX4"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","GTM-5NM3NX4",{anonymize_ip:!0})</script>
<link rel="search" type="application/opensearchdescription+xml" title="Cardano Developer Portal" href="/opensearch.xml"><title data-react-helmet="true">Register a Stake Pool with Metadata | Cardano Developer Portal</title><meta data-react-helmet="true" property="og:url" content="https://developers.cardano.org/docs/stake-pool-course/handbook/register-stake-pool-metadata"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" name="twitter:card" content="summary"><meta data-react-helmet="true" property="og:title" content="Register a Stake Pool with Metadata | Cardano Developer Portal"><meta data-react-helmet="true" name="description" content="Stake pool course: Register a stake pool with metadata."><meta data-react-helmet="true" property="og:description" content="Stake pool course: Register a stake pool with metadata."><meta data-react-helmet="true" property="og:image" content="https://developers.cardano.org/./img/og-developer-portal.png"><meta data-react-helmet="true" name="twitter:image" content="https://developers.cardano.org/./img/og-developer-portal.png"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://developers.cardano.org/docs/stake-pool-course/handbook/register-stake-pool-metadata"><link data-react-helmet="true" rel="alternate" href="https://developers.cardano.org/docs/stake-pool-course/handbook/register-stake-pool-metadata" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://developers.cardano.org/docs/stake-pool-course/handbook/register-stake-pool-metadata" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://6QH8YVQXAE-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.69ca762d.css">
<link rel="preload" href="/assets/js/runtime~main.7ec25b7c.js" as="script">
<link rel="preload" href="/assets/js/main.48335eb1.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();null!==e?t(e):window.matchMedia("(prefers-color-scheme: dark)").matches?t("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,t("light"))}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><div class="announcementBar_3WsW" style="background-color:#2AA18A;color:#FFFFFF" role="banner"><div class="announcementBarPlaceholder_2m9F"></div><div class="announcementBarContent_3EUC"><strong>Join the Cardano Stack Exchange and get your questions answered today. ‚≠êÔ∏è<a target="_blank" rel="noopener noreferrer" href="https://cardano.stackexchange.com">Join us!</a></strong></div><button type="button" class="clean-btn close announcementBarClose_38nx" aria-label="Close"><svg viewBox="0 0 24 24" width="14" height="14" fill="currentColor"><path d="M24 20.188l-8.315-8.209 8.2-8.282-3.697-3.697-8.212 8.318-8.31-8.203-3.666 3.666 8.321 8.24-8.206 8.313 3.666 3.666 8.237-8.318 8.285 8.203z"></path></svg></button></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/img/cardano-black.svg" alt="Cardano Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/cardano-white.svg" alt="Cardano Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">Developers</b></a><a class="navbar__item navbar__link" href="/tools">Tools</a><a class="navbar__item navbar__link" href="/showcase">Showcase</a><a class="navbar__item navbar__link" href="/docs/get-started/testnets-and-devnets">Testnets</a><a class="navbar__item navbar__link" href="/blog/">Dev Blog</a><a href="https://docs.cardano.org/en/latest/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>Docs<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/cardano-foundation/developer-portal" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link"></a><div class="react-toggle toggle_3Zt9 react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT" style="margin-left:2px">üåô</span></div><div class="react-toggle-track-x"><span class="toggle_71bT" style="margin-left:1px">‚òÄÔ∏è</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div><div class="searchBox_1Doo"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_31aa"><button class="clean-btn backToTopButton_35hR" type="button"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed menuWithAnnouncementBar_2WvA"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Get Started</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Integrate Cardano</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Build with Transaction Metadata</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Discover Native Tokens</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Create Smart Contracts</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Fund your Project</a></li><li class="theme-doc-sidebar-item-category menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Operate a Stake Pool</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/operate-a-stake-pool/">Overview</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/operate-a-stake-pool/cardano-key-pairs">Cardano Key Pairs</a></li><li class="theme-doc-sidebar-item-category menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#" tabindex="0">Stake Pool Course</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/stake-pool-course/">Overview</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/stake-pool-course/introduction-to-cardano">(Re)introduction into Cardano</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/stake-pool-course/lesson-1">Lesson 1</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/stake-pool-course/lesson-2">Lesson 2</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/stake-pool-course/lesson-3">Lesson 3</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/stake-pool-course/lesson-4">Lesson 4</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/stake-pool-course/lesson-5">Lesson 5</a></li><li class="theme-doc-sidebar-item-category menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#" tabindex="0">Handbook</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/stake-pool-course/handbook/setup-virtual-box-written">Installing VirtualBox</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/stake-pool-course/handbook/setup-a-server-on-aws-written">Setup a Linux server on AWS</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/stake-pool-course/handbook/setup-firewall">Setup Firewall</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/stake-pool-course/handbook/use-cli">Command Line Interface</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/stake-pool-course/handbook/utxo-model">Classic UTxO model</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/stake-pool-course/handbook/keys-addresses">Creating keys and addresses</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/stake-pool-course/handbook/create-simple-transaction">Create simple transaction</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/stake-pool-course/handbook/create-stake-pool-keys">Create stake pool keys</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/stake-pool-course/handbook/register-stake-keys">Register stake pool keys</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/stake-pool-course/handbook/generate-stake-pool-keys">Generate stake pool keys</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/stake-pool-course/handbook/configure-topology-files">Configure topology files</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/stake-pool-course/handbook/register-stake-pool-metadata">Register a stake pool with metadata</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/stake-pool-course/handbook/apply-logging-prometheus">Monitoring a node with Prometheus</a></li></ul></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Assignments</a></li></ul></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Operator Tools</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/operate-a-stake-pool/marketing-stake-pool">Marketing a Stake Pool</a></li></ul></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Contribute to the Developer Portal</a></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_1CGd"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_3E-R"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="theme-doc-markdown markdown"><header><h1>Register a Stake Pool with Metadata</h1></header><p>Make sure you have access to:</p><table><thead><tr><th align="left">File</th><th align="left">Content</th></tr></thead><tbody><tr><td align="left"><code>payment.vkey</code></td><td align="left">payment verification key</td></tr><tr><td align="left"><code>payment.skey</code></td><td align="left">payment signing key</td></tr><tr><td align="left"><code>stake.vkey</code></td><td align="left">staking verification key</td></tr><tr><td align="left"><code>stake.skey</code></td><td align="left">staking signing key</td></tr><tr><td align="left"><code>stake.addr</code></td><td align="left">registered stake address</td></tr><tr><td align="left"><code>payment.addr</code></td><td align="left">funded address linked to <code>stake</code></td></tr><tr><td align="left"><code>cold.vkey</code></td><td align="left">cold verification key</td></tr><tr><td align="left"><code>cold.skey</code></td><td align="left">cold signing key</td></tr><tr><td align="left"><code>cold.counter</code></td><td align="left">issue counter</td></tr><tr><td align="left"><code>node.cert</code></td><td align="left">operational certificate</td></tr><tr><td align="left"><code>kes.vkey</code></td><td align="left">KES verification key</td></tr><tr><td align="left"><code>kes.skey</code></td><td align="left">KES signing key</td></tr><tr><td align="left"><code>vrf.vkey</code></td><td align="left">VRF verification key</td></tr><tr><td align="left"><code>vrf.skey</code></td><td align="left">VRF signing key</td></tr></tbody></table><p>Registering your stake pool requires:</p><ul><li>Create JSON file with your metadata and store it in the node and in a url you maintain</li><li>Get the hash of your JSON file</li><li>Generate the stake pool registration certificate</li><li>Create a delegation certificate pledge</li><li>Submit the certificates to the blockchain</li></ul><p><strong>WARNING:</strong> Generating the <strong>stake pool registration certificate</strong> and the <strong>delegation certificate</strong> requires the <strong>cold keys</strong>. So, when doing this on mainnet you may want to generate these certificates in your local machine taking the proper security measures to avoid exposing your cold keys to the internet.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="create-a-json-file-with-your-pools-metadata"></a>Create a JSON file with your pool&#x27;s metadata<a class="hash-link" href="#create-a-json-file-with-your-pools-metadata" title="Direct link to heading">#</a></h4><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly json"><pre tabindex="0" class="prism-code language-json codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token property">&quot;name&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;TestPool&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token property">&quot;description&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;The pool that tests all the pools&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token property">&quot;ticker&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;TEST&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token property">&quot;homepage&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;https://teststakepool.com&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Store the file in a url you control. For example <a href="https://git.io/JJWdJ" target="_blank" rel="noopener noreferrer">https://teststakepool.com/poolMetadata.json</a> You can use a GIST in github to store the definition and git.io to make it short. Ensure that the URL is less than 65 characters long.</p><p>Example:
Gist-URL <a href="https://gist.githubusercontent.com/carloslodelar/38c7482070627092a427583cae8fa470/raw/7fddda4d258bf685d24ea3510fbde295b3920188/clrpool.json" target="_blank" rel="noopener noreferrer">https://gist.githubusercontent.com/carloslodelar/38c7482070627092a427583cae8fa470/raw/7fddda4d258bf685d24ea3510fbde295b3920188/clrpool.json</a>
Git.IO-URL <a href="https://git.io/JJWdJ" target="_blank" rel="noopener noreferrer">https://git.io/JJWdJ</a></p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="get-the-hash-of-your-metadata-json-file"></a>Get the hash of your metadata JSON file:<a class="hash-link" href="#get-the-hash-of-your-metadata-json-file" title="Direct link to heading">#</a></h4><p>This validates that the JSON fits the required schema, if it does, you will get the hash of your file.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly sh"><pre tabindex="0" class="prism-code language-sh codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">cardano-cli stake-pool metadata-hash --pool-metadata-file pool_Metadata.json</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">&gt;6bf124f217d0e5a0a8adb1dbd8540e1334280d49ab861127868339f43b3948af</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="generate-stake-pool-registration-certificate"></a>Generate Stake pool registration certificate<a class="hash-link" href="#generate-stake-pool-registration-certificate" title="Direct link to heading">#</a></h4><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly sh"><pre tabindex="0" class="prism-code language-sh codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">cardano-cli stake-pool registration-certificate \</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">--cold-verification-key-file cold.vkey \</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">--vrf-verification-key-file vrf.vkey \</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">--pool-pledge &lt;AMOUNT TO PLEDGE IN LOVELACE&gt; \</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">--pool-cost &lt;POOL COST PER EPOCH IN LOVELACE&gt; \</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">--pool-margin &lt;POOL COST PER EPOCH IN PERCENTAGE&gt; \</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">--pool-reward-account-verification-key-file stake.vkey \</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">--pool-owner-stake-verification-key-file stake.vkey \</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">--mainnet \</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">--pool-relay-ipv4 &lt;RELAY NODE PUBLIC IP&gt; \</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">--pool-relay-port &lt;RELAY NODE PORT&gt; \</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">--metadata-url https://git.io/JJWdJ \</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">--metadata-hash &lt;POOL METADATA HASH&gt; \</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">--out-file pool-registration.cert</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><table><thead><tr><th align="left">Parameter</th><th align="left">Explanation</th></tr></thead><tbody><tr><td align="left">cold-verification-key-file</td><td align="left">verification <em>cold</em> key</td></tr><tr><td align="left">vrf-verification-key-file</td><td align="left">verification <em>VRS</em> key</td></tr><tr><td align="left">pool-pledge</td><td align="left">pledge lovelace</td></tr><tr><td align="left">pool-cost</td><td align="left">operational costs per epoch lovelace</td></tr><tr><td align="left">pool-margin</td><td align="left">operator margin</td></tr><tr><td align="left">pool-reward-account-verification-key-file</td><td align="left">verification staking key for the rewards</td></tr><tr><td align="left">pool-owner-staking-verification-key-file</td><td align="left">verification staking keys for the pool owners</td></tr><tr><td align="left">pool-relay-ipv4</td><td align="left">relay node ip address</td></tr><tr><td align="left">pool-relay-port</td><td align="left">port</td></tr><tr><td align="left">metadata-url</td><td align="left">url of your json file</td></tr><tr><td align="left">metadata-hash</td><td align="left">the hash of pools json metadata file</td></tr><tr><td align="left">out-file</td><td align="left">output file to write the certificate to</td></tr></tbody></table><p><strong>You can use a different key for the rewards, and can provide more than one owner key if there were multiple owners who share the pledge.</strong></p><p>The <strong>pool-registration.cert</strong> file should look like this:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly sh"><pre tabindex="0" class="prism-code language-sh codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">type: CertificateShelley</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">description: Stake Pool Registration Certificate</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">cborHex:</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">18b58a03582062d632e7ee8a83769bc108e3e42a674d8cb242d7375fc2d97db9b4dd6eded6fd5820</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">48aa7b2c8deb8f6d2318e3bf3df885e22d5d63788153e7f4040c33ecae15d3e61b0000005d21dba0</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">001b000000012a05f200d81e820001820058203a4e813b6340dc790f772b3d433ce1c371d5c5f5de</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">46f1a68bdf8113f50e779d8158203a4e813b6340dc790f772b3d433ce1c371d5c5f5de46f1a68bdf</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">8113f50e779d80f6</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="generate-delegation-certificate-pledge"></a>Generate delegation certificate pledge<a class="hash-link" href="#generate-delegation-certificate-pledge" title="Direct link to heading">#</a></h4><p>To honor your pledge, create a <em>delegation certificate</em>:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly sh"><pre tabindex="0" class="prism-code language-sh codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">cardano-cli stake-address delegation-certificate \</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">--stake-verification-key-file stake.vkey \</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">--cold-verification-key-file cold.vkey \</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">--out-file delegation.cert</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>This creates a delegation certificate which delegates funds from all stake addresses associated with key <code>stake.vkey</code> to the pool belonging to cold key <code>cold.vkey</code>. If there are many staking keys as pool owners in the first step, we need delegation certificates for all of them.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="submit-the-pool-certificate-and-delegation-certificate-to-the-blockchain"></a>Submit the pool certificate and delegation certificate to the blockchain<a class="hash-link" href="#submit-the-pool-certificate-and-delegation-certificate-to-the-blockchain" title="Direct link to heading">#</a></h4><p>To submit the <code>pool registration certificate</code> and the <code>delegation certificates</code> to the blockchain by including them in one or more transactions. We can use one transaction for multiple certificates, the certificates will be applied in order.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="draft-the-transaction"></a>Draft the transaction<a class="hash-link" href="#draft-the-transaction" title="Direct link to heading">#</a></h4><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly sh"><pre tabindex="0" class="prism-code language-sh codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">cardano-cli transaction build-raw \</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">--tx-in &lt;TxHash&gt;#&lt;TxIx&gt; \</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">--tx-out $(cat payment.addr)+0 \</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">--invalid-hereafter 0 \</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">--fee 0 \</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">--out-file tx.draft \</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">--certificate-file pool-registration.cert \</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">--certificate-file delegation.cert</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="calculate-the-fees"></a>Calculate the fees<a class="hash-link" href="#calculate-the-fees" title="Direct link to heading">#</a></h4><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly sh"><pre tabindex="0" class="prism-code language-sh codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">cardano-cli transaction calculate-min-fee \</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">--tx-body-file tx.draft \</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">--tx-in-count 1 \</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">--tx-out-count 1 \</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">--witness-count 3 \</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">--byron-witness-count 0 \</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">--mainnet \</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">--protocol-params-file protocol.json</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>For example:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly sh"><pre tabindex="0" class="prism-code language-sh codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">&gt; 184685</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Registering a stake pool requires a deposit. This amount is specified in <code>protocol.json</code>. For example, for Shelley Mainnet we have:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly json"><pre tabindex="0" class="prism-code language-json codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token property">&quot;poolDeposit&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">500000000</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="calculate-the-change-for---tx-out"></a>Calculate the change for --tx-out<a class="hash-link" href="#calculate-the-change-for---tx-out" title="Direct link to heading">#</a></h4><p>All amounts in Lovelace</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly sh"><pre tabindex="0" class="prism-code language-sh codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">expr &lt;UTxO BALANCE&gt; - &lt;poolDeposit&gt; - &lt;TRANSACTION FEE&gt;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="build-the-transaction"></a>Build the transaction:<a class="hash-link" href="#build-the-transaction" title="Direct link to heading">#</a></h4><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly sh"><pre tabindex="0" class="prism-code language-sh codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">cardano-cli transaction build-raw \</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">--tx-in &lt;TxHash&gt;#&lt;TxIx&gt; \</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">--tx-out $(cat payment.addr)+&lt;CHANGE IN LOVELACE&gt; \</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">--invalid-hereafter &lt;TTL&gt; \</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">--fee &lt;TRANSACTION FEE&gt; \</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">--out-file tx.raw \</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">--certificate-file pool-registration.cert \</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">--certificate-file delegation.cert</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="sign-the-transaction"></a>Sign the transaction:<a class="hash-link" href="#sign-the-transaction" title="Direct link to heading">#</a></h4><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly sh"><pre tabindex="0" class="prism-code language-sh codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">cardano-cli transaction sign \</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">--tx-body-file tx.raw \</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">--signing-key-file payment.skey \</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">--signing-key-file stake.skey \</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">--signing-key-file cold.skey \</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">--mainnet \</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">--out-file tx.signed</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="submit-the-transaction"></a>Submit the transaction:<a class="hash-link" href="#submit-the-transaction" title="Direct link to heading">#</a></h4><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly sh"><pre tabindex="0" class="prism-code language-sh codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">cardano-cli transaction submit \</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">--tx-file tx.signed \</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">--mainnet</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="verify-that-your-stake-pool-registration-was-successful"></a>Verify that your stake pool registration was successful.<a class="hash-link" href="#verify-that-your-stake-pool-registration-was-successful" title="Direct link to heading">#</a></h4><p>Get Pool ID</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly sh"><pre tabindex="0" class="prism-code language-sh codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">cardano-cli stake-pool id --cold-verification-key-file cold.vkey --output-format &quot;hex&quot;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Check for the presence of your poolID in the network ledger state, with:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly sh"><pre tabindex="0" class="prism-code language-sh codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">cardano-cli query ledger-state --mainnet | grep publicKey | grep &lt;poolId&gt;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/cardano-foundation/developer-portal/edit/staging/docs/stake-pool-course/handbook/register-stake-pool-metadata.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_13-_"><span class="theme-last-updated">Last updated on <b><time datetime="2021-07-03T18:21:28.000Z">7/4/2021</time></b> by <b>katomm</b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/stake-pool-course/handbook/configure-topology-files"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">¬´ Configure topology files</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/stake-pool-course/handbook/apply-logging-prometheus"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Monitoring a node with Prometheus ¬ª</div></a></div></nav></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Developer Portal</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/portal-contributors/">Contributors</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/portal-contribute/">How to Contribute</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/portal-style-guide">Style Guide</a></li><li class="footer__item"><a href="https://github.com/cardano-foundation/developer-portal/discussions/161" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Suggest Content<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://github.com/cardano-foundation/developer-portal/issues" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Raise an Issue<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">Developer Community</div><ul class="footer__items"><li class="footer__item"><a href="https://cardano.stackexchange.com" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Stack Exchange<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://forum.cardano.org/c/developers/29" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Cardano Forum<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a class="footer__link-item" href="/docs/get-started/cardano-developer-community">More</a></li></ul></div><div class="col footer__col"><div class="footer__title">More about Cardano</div><ul class="footer__items"><li class="footer__item"><a href="https://cardano.org/enterprise" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Cardano Enterprise<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://www.cardanofoundation.org" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Cardano Foundation<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://cardanoupdates.com" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Development Updates<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://cardano.org/ouroboros/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Ouroboros Protocol<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright"><a href="https://cardanofoundation.org/en/terms-and-conditions" target="_blank" rel="noopener noreferrer" class="footer__link-item">Terms</a> |¬†<a href="https://cardanofoundation.org/en/privacy" target="_blank" rel="noopener noreferrer" class="footer__link-item">Privacy Policy</a></div></div></div></footer></div>
<script src="/assets/js/runtime~main.7ec25b7c.js"></script>
<script src="/assets/js/main.48335eb1.js"></script>
</body>
</html>